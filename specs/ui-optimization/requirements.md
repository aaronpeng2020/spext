# 需求文档 - 界面UI优化

## 介绍

对VoiceInput应用程序的用户界面进行现代化改造，提升视觉体验和交互体验。主要包括设置界面的现代化设计、应用Logo的添加、音频波形可视化功能的实现，以及Whisper API参数配置界面的扩展。

## 需求

### 需求 1 - 现代化设置界面

**用户故事：** 作为VoiceInput用户，我希望看到一个具有现代感的设置界面，使应用看起来更专业、更美观。

#### 验收标准

1. When 用户打开设置窗口时，VoiceInput应当显示具有现代设计风格的界面，包括圆角、阴影、过渡动画等现代UI元素。
2. While 设置窗口显示时，VoiceInput应当使用统一的配色方案和字体样式。
3. When 用户将鼠标悬停在可交互元素上时，VoiceInput应当显示适当的视觉反馈（如颜色变化、阴影效果）。
4. When 用户切换选项卡时，VoiceInput应当显示平滑的过渡动画。

### 需求 2 - 应用Logo展示

**用户故事：** 作为VoiceInput用户，我希望在设置窗口右下角看到一个精美的应用Logo，增强品牌识别度。

#### 验收标准

1. When 设置窗口打开时，VoiceInput应当在窗口右下角显示应用Logo。
2. While Logo显示时，VoiceInput应当确保Logo不遮挡功能按钮或其他重要UI元素。
3. When 用户调整窗口大小时（如果允许），VoiceInput应当保持Logo在右下角的相对位置。
4. VoiceInput应当使用高质量的矢量图形或高分辨率图像作为Logo。

### 需求 3 - 音频波形可视化

**用户故事：** 作为VoiceInput用户，我希望在录音时看到音频波形的实时可视化，让我了解录音状态和音量大小。

#### 验收标准

1. When 用户按住热键开始录音时，VoiceInput应当在屏幕底部（任务栏上方）显示音频波形可视化窗口。
2. While 录音进行时，音频波形应当实时反映当前的音频输入强度和节奏。
3. When 用户松开热键结束录音时，音频波形窗口应当自动隐藏。
4. VoiceInput应当确保波形窗口始终置顶，但不获取焦点，不影响用户的正常输入。
5. 波形可视化应当具有现代感的视觉效果，如渐变色、平滑动画等。

### 需求 4 - 波形显示开关

**用户故事：** 作为VoiceInput用户，我希望能够在设置中关闭音频波形显示功能，以适应不同的使用场景。

#### 验收标准

1. When 用户打开设置窗口时，VoiceInput应当在界面中显示"显示音频波形"的开关选项。
2. When 用户关闭波形显示开关时，VoiceInput应当在后续录音时不显示波形窗口。
3. When 用户重新开启波形显示开关时，VoiceInput应当恢复波形显示功能。
4. VoiceInput应当记住用户的选择，并在应用重启后保持设置。

### 需求 5 - Whisper API参数配置

**用户故事：** 作为VoiceInput高级用户，我希望能够配置Whisper API的详细参数，包括模型选择、超时时间、自定义API URL和语言设置。

#### 验收标准

1. When 用户打开设置窗口时，VoiceInput应当提供一个专门的"API设置"选项卡或区域。
2. VoiceInput应当提供以下配置选项：
   - 模型选择下拉框（whisper-1等可用模型）
   - 超时时间输入框（单位：秒）
   - OpenAI API URL输入框（支持自定义端点）
3. When 用户修改API参数时，VoiceInput应当验证输入的有效性（如URL格式、超时时间范围）。
4. When 用户保存设置时，VoiceInput应当立即应用新的API参数配置。
5. VoiceInput应当为每个参数提供清晰的说明和默认值提示。

### 需求 6 - 语言设置功能

**用户故事：** 作为VoiceInput用户，我希望能够设置输入语言和输出模式，以获得更准确的语音识别结果。

#### 验收标准

1. When 用户打开设置窗口时，VoiceInput应当在API设置区域显示语言相关的配置选项。
2. VoiceInput应当提供"输入语言"下拉框，包含以下选项：
   - 自动检测（默认）
   - 中文 (zh)
   - 英文 (en)
   - 更多支持的语言（根据需要扩展）
3. VoiceInput应当提供"输出模式"下拉框，包含以下选项：
   - 原语言转录（默认）- 保持原始语言输出
   - 翻译成英文 - 将任何语言翻译为英文
4. When 用户选择特定输入语言时，VoiceInput应当在API调用时传递对应的language参数以提高识别准确率。
5. When 用户选择"翻译成英文"模式时，VoiceInput应当调用translation接口而不是transcription接口。
6. VoiceInput应当在界面上显示提示信息，说明：
   - 设置输入语言可以提高识别速度和准确率
   - 翻译模式仅支持翻译成英文
   - 自动检测模式适合中英混合输入